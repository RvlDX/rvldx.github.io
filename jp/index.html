<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tebak Huruf Jepang</title>
    <style>
        :root {
            --primary: #4a90e2;
            --secondary: #f5f6fa;
            --success: #6dd400;
            --danger: #ff3b30;
        }

        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', sans-serif;
        }

        body {
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .mode-container {
            display: grid;
            gap: 20px;
            margin: 50px 0;
        }

        .mode-btn {
            padding: 20px 40px;
            font-size: 1.2em;
            border: none;
            border-radius: 15px;
            background: var(--primary);
            color: white;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .game-container {
            display: none;
            max-width: 600px;
            width: 100%;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .character-display {
            font-size: 8em;
            text-align: center;
            margin: 30px 0;
            color: var(--primary);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .option-btn {
            padding: 20px;
            font-size: 1.1em;
            border: 2px solid var(--secondary);
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-btn:hover:not(:disabled) {
            background: var(--secondary);
            transform: scale(1.02);
        }

        .option-btn.correct {
            background: var(--success);
            color: white;
        }

        .option-btn.wrong {
            background: var(--danger);
            color: white;
        }

        .score-board {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #666;
        }

        .progress-bar {
            height: 8px;
            background: #eee;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: var(--primary);
            transition: width 0.3s ease;
        }

        .result-screen {
            text-align: center;
            display: none;
        }

        .retry-btn {
            padding: 15px 30px;
            font-size: 1.1em;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="mode-container">
        <button class="mode-btn" onclick="startGame('hiragana')">Hiragana</button>
        <button class="mode-btn" onclick="startGame('katakana')">Katakana</button>
    </div>

    <div class="game-container">
        <div class="score-board">
            <span>Score: <span id="score">0</span></span>
            <span>Progress: <span id="progress">0</span>/10</span>
        </div>
        <div class="progress-bar">
            <div class="progress" style="width: 0%"></div>
        </div>
        <div class="character-display" id="character"></div>
        <div class="options-container" id="options"></div>
    </div>

    <div class="result-screen" id="resultScreen">
        <h2>Game Selesai!</h2>
        <p>Skor Akhir: <span id="finalScore">0</span></p>
        <button class="retry-btn" onclick="location.reload()">Coba Lagi</button>
    </div>

    <script>
        const hiragana = {
            // Basic
            'あ':'a', 'い':'i', 'う':'u', 'え':'e', 'お':'o',
            'か':'ka', 'き':'ki', 'く':'ku', 'け':'ke', 'こ':'ko',
            'さ':'sa', 'し':'shi', 'す':'su', 'せ':'se', 'そ':'so',
            'た':'ta', 'ち':'chi', 'つ':'tsu', 'て':'te', 'と':'to',
            'な':'na', 'に':'ni', 'ぬ':'nu', 'ね':'ne', 'の':'no',
            'は':'ha', 'ひ':'hi', 'ふ':'fu', 'へ':'he', 'ほ':'ho',
            'ま':'ma', 'み':'mi', 'む':'mu', 'め':'me', 'も':'mo',
            'や':'ya', 'ゆ':'yu', 'よ':'yo',
            'ら':'ra', 'り':'ri', 'る':'ru', 'れ':'re', 'ろ':'ro',
            'わ':'wa', 'を':'wo', 'ん':'n',
            
            // Dakuten & Handakuten
            'が':'ga', 'ぎ':'gi', 'ぐ':'gu', 'げ':'ge', 'ご':'go',
            'ざ':'za', 'じ':'ji', 'ず':'zu', 'ぜ':'ze', 'ぞ':'zo',
            'だ':'da', 'ぢ':'ji', 'づ':'zu', 'で':'de', 'ど':'do',
            'ば':'ba', 'び':'bi', 'ぶ':'bu', 'べ':'be', 'ぼ':'bo',
            'ぱ':'pa', 'ぴ':'pi', 'ぷ':'pu', 'ぺ':'pe', 'ぽ':'po'
        };

        const katakana = {
            'ア': 'a', 'イ': 'i', 'ウ': 'u', 'エ': 'e', 'オ': 'o',
            'カ': 'ka', 'キ': 'ki', 'ク': 'ku', 'ケ': 'ke', 'コ': 'ko',
            'サ': 'sa', 'シ': 'shi', 'ス': 'su', 'セ': 'se', 'ソ': 'so'
        };

        let currentSet = {};
        let score = 0;
        let currentQuestion = 0;
        const totalQuestions = 10;

        function startGame(mode) {
            currentSet = mode === 'hiragana' ? {...hiragana} : {...katakana};
            document.querySelector('.mode-container').style.display = 'none';
            document.querySelector('.game-container').style.display = 'block';
            generateQuestion();
        }

        function generateQuestion() {
            const characters = Object.keys(currentSet);
            const currentChar = characters[Math.floor(Math.random() * characters.length)];
            const correctAnswer = currentSet[currentChar];
            
            document.getElementById('character').textContent = currentChar;
            
            // Generate options
            const options = [correctAnswer];
            while (options.length < 4) {
                const randomAnswer = Object.values(currentSet)[
                    Math.floor(Math.random() * Object.values(currentSet).length)
                ];
                if (!options.includes(randomAnswer)) {
                    options.push(randomAnswer);
                }
            }
            
            // Shuffle options
            options.sort(() => Math.random() - 0.5);
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => checkAnswer(option === correctAnswer);
                optionsContainer.appendChild(button);
            });
            
            updateProgress();
        }

        function checkAnswer(isCorrect) {
            const options = document.querySelectorAll('.option-btn');
            options.forEach(btn => btn.disabled = true);
            
            if (isCorrect) {
                score += 10;
                document.getElementById('score').textContent = score;
                event.target.classList.add('correct');
            } else {
                event.target.classList.add('wrong');
                options.forEach(btn => {
                    if (btn.textContent === currentSet[document.getElementById('character').textContent]) {
                        btn.classList.add('correct');
                    }
                });
            }
            
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < totalQuestions) {
                    generateQuestion();
                } else {
                    endGame();
                }
            }, 1500);
        }

        function updateProgress() {
            document.getElementById('progress').textContent = currentQuestion + 1;
            document.querySelector('.progress').style.width = 
                ((currentQuestion + 1) / totalQuestions * 100) + '%';
        }

        function endGame() {
            document.querySelector('.game-container').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            document.getElementById('finalScore').textContent = score;
        }
    </script>
</body>
</html>